---
title: 友言评论框测试
permalink: uyan-test
id: 22
updated: '2017-05-29 18:00:46'
date: 2016-04-25 07:16:35
tags:
---

可以匿名评论哦

___

由于SPA应用不刷新页面，所以评论框不会每次都初始化。查看代码后发现，判断是否需要初始化的条件是`uyan_loaded`和`uyan_loadover`，所以每次载入时将这两个变量改为undefined即可实现每个页面的评论框都初始化。

完整代码如下：（插入到主题文件的post.hbs中）

```html line-numbers
<!-- UY Begin -->
<div id="uyan_frame"></div>
<script type="text/javascript">uyan_loaded = uyan_loadover = undefined</script>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid={yourID}"></script>
<!-- UY End -->
```